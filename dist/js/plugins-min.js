"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t){t.fn.viewportChecker=function(e){var i={classToAdd:"visible",classToRemove:"invisible",classToAddForFullView:"full-visible",removeClassAfterAnimation:!1,offset:100,repeat:!1,invertBottomOffset:!0,callbackFunction:function(t,e){},scrollHorizontal:!1,scrollBox:window};t.extend(i,e);var n=this,o={height:t(i.scrollBox).height(),width:t(i.scrollBox).width()},s=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")||-1!=navigator.userAgent.toLowerCase().indexOf("windows phone")?"body":"html";return this.checkElements=function(){var e,a;i.scrollHorizontal?(e=t(s).scrollLeft(),a=e+o.width):(e=t(s).scrollTop(),a=e+o.height),n.each(function(){var n=t(this),s={},r={};if(n.data("vp-add-class")&&(r.classToAdd=n.data("vp-add-class")),n.data("vp-remove-class")&&(r.classToRemove=n.data("vp-remove-class")),n.data("vp-add-class-full-view")&&(r.classToAddForFullView=n.data("vp-add-class-full-view")),n.data("vp-keep-add-class")&&(r.removeClassAfterAnimation=n.data("vp-remove-after-animation")),n.data("vp-offset")&&(r.offset=n.data("vp-offset")),n.data("vp-repeat")&&(r.repeat=n.data("vp-repeat")),n.data("vp-scrollHorizontal")&&(r.scrollHorizontal=n.data("vp-scrollHorizontal")),n.data("vp-invertBottomOffset")&&(r.scrollHorizontal=n.data("vp-invertBottomOffset")),t.extend(s,i),t.extend(s,r),!n.data("vp-animated")||s.repeat){String(s.offset).indexOf("%")>0&&(s.offset=parseInt(s.offset)/100*o.height);var l=s.scrollHorizontal?n.offset().left:n.offset().top,h=s.scrollHorizontal?l+n.width():l+n.height(),u=Math.round(l)+s.offset,d=s.scrollHorizontal?u+n.width():u+n.height();s.invertBottomOffset&&(d-=2*s.offset),a>u&&d>e?(n.removeClass(s.classToRemove),n.addClass(s.classToAdd),s.callbackFunction(n,"add"),a>=h&&l>=e?n.addClass(s.classToAddForFullView):n.removeClass(s.classToAddForFullView),n.data("vp-animated",!0),s.removeClassAfterAnimation&&n.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n.removeClass(s.classToAdd)})):n.hasClass(s.classToAdd)&&s.repeat&&(n.removeClass(s.classToAdd+" "+s.classToAddForFullView),s.callbackFunction(n,"remove"),n.data("vp-animated",!1))}})},("ontouchstart"in window||"onmsgesturechange"in window)&&t(document).bind("touchmove MSPointerMove pointermove",this.checkElements),t(i.scrollBox).bind("load scroll",this.checkElements),t(window).resize(function(e){o={height:t(i.scrollBox).height(),width:t(i.scrollBox).width()},n.checkElements()}),this.checkElements(),this}}(jQuery);var Util=function($){function t(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function e(t){return(t[0]||t).nodeType}function i(){return{bindType:a.end,delegateType:a.end,handle:function t(e){return $(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}}}function n(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in r)if(void 0!==t.style[e])return{end:r[e]};return!1}function o(t){var e=this,i=!1;return $(this).one(l.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||l.triggerTransitionEnd(e)},t),this}function s(){a=n(),$.fn.emulateTransitionEnd=o,l.supportsTransitionEnd()&&($.event.special[l.TRANSITION_END]=i())}var a=!1,r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},l={TRANSITION_END:"bsTransitionEnd",getUID:function h(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},getSelectorFromElement:function u(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function d(t){new Function("bs","return bs")(t.offsetHeight)},triggerTransitionEnd:function c(t){$(t).trigger(a.end)},supportsTransitionEnd:function p(){return Boolean(a)},typeCheckConfig:function f(i,n,o){for(var s in o)if(o.hasOwnProperty(s)){var a=o[s],r=n[s],l=void 0;if(l=r&&e(r)?"element":t(r),!new RegExp(a).test(l))throw new Error(i.toUpperCase()+": "+('Option "'+s+'" provided type "'+l+'" ')+('but expected type "'+a+'".'))}}};return s(),l}(jQuery),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Collapse=function($){var t="collapse",e="4.0.0-alpha",i="bs.collapse",n="."+i,o=".data-api",s=$.fn[t],a=600,r={toggle:!0,parent:""},l={toggle:"boolean",parent:"string"},h={SHOW:"show"+n,SHOWN:"shown"+n,HIDE:"hide"+n,HIDDEN:"hidden"+n,CLICK_DATA_API:"click"+n+o},u={IN:"in",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},d={WIDTH:"width",HEIGHT:"height"},c={ACTIVES:".panel > .in, .panel > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},p=function(){function n(t,e){_classCallCheck(this,n),this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=$.makeArray($('[data-toggle="collapse"][href="#'+t.id+'"],'+('[data-toggle="collapse"][data-target="#'+t.id+'"]'))),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return _createClass(n,[{key:"toggle",value:function o(){$(this._element).hasClass(u.IN)?this.hide():this.show()}},{key:"show",value:function s(){var t=this;if(!this._isTransitioning&&!$(this._element).hasClass(u.IN)){var e=void 0,o=void 0;if(this._parent&&(e=$.makeArray($(c.ACTIVES)),e.length||(e=null)),!(e&&(o=$(e).data(i),o&&o._isTransitioning))){var s=$.Event(h.SHOW);if($(this._element).trigger(s),!s.isDefaultPrevented()){e&&(n._jQueryInterface.call($(e),"hide"),o||$(e).data(i,null));var r=this._getDimension();$(this._element).removeClass(u.COLLAPSE).addClass(u.COLLAPSING),this._element.style[r]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&$(this._triggerArray).removeClass(u.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var l=function f(){$(t._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).addClass(u.IN),t._element.style[r]="",t.setTransitioning(!1),$(t._element).trigger(h.SHOWN)};if(!Util.supportsTransitionEnd())return void l();var d=r[0].toUpperCase()+r.slice(1),p="scroll"+d;$(this._element).one(Util.TRANSITION_END,l).emulateTransitionEnd(a),this._element.style[r]=this._element[p]+"px"}}}}},{key:"hide",value:function p(){var t=this;if(!this._isTransitioning&&$(this._element).hasClass(u.IN)){var e=$.Event(h.HIDE);if($(this._element).trigger(e),!e.isDefaultPrevented()){var i=this._getDimension(),n=i===d.WIDTH?"offsetWidth":"offsetHeight";this._element.style[i]=this._element[n]+"px",Util.reflow(this._element),$(this._element).addClass(u.COLLAPSING).removeClass(u.COLLAPSE).removeClass(u.IN),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&$(this._triggerArray).addClass(u.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var o=function s(){t.setTransitioning(!1),$(t._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).trigger(h.HIDDEN)};return this._element.style[i]=0,Util.supportsTransitionEnd()?void $(this._element).one(Util.TRANSITION_END,o).emulateTransitionEnd(a):void o()}}}},{key:"setTransitioning",value:function f(t){this._isTransitioning=t}},{key:"dispose",value:function m(){$.removeData(this._element,i),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}},{key:"_getConfig",value:function g(e){return e=$.extend({},r,e),e.toggle=Boolean(e.toggle),Util.typeCheckConfig(t,e,l),e}},{key:"_getDimension",value:function v(){var t=$(this._element).hasClass(d.WIDTH);return t?d.WIDTH:d.HEIGHT}},{key:"_getParent",value:function y(){var t=this,e=$(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return $(e).find(i).each(function(e,i){t._addAriaAndCollapsedClass(n._getTargetFromElement(i),[i])}),e}},{key:"_addAriaAndCollapsedClass",value:function _(t,e){if(t){var i=$(t).hasClass(u.IN);t.setAttribute("aria-expanded",i),e.length&&$(e).toggleClass(u.COLLAPSED,!i).attr("aria-expanded",i)}}}],[{key:"_getTargetFromElement",value:function b(t){var e=Util.getSelectorFromElement(t);return e?$(e)[0]:null}},{key:"_jQueryInterface",value:function w(t){return this.each(function(){var e=$(this),o=e.data(i),s=$.extend({},r,e.data(),"object"==typeof t&&t);if(!o&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),o||(o=new n(this,s),e.data(i,o)),"string"==typeof t){if(void 0===o[t])throw new Error('No method named "'+t+'"');o[t]()}})}},{key:"VERSION",get:function A(){return e}},{key:"Default",get:function C(){return r}}]),n}();return $(document).on(h.CLICK_DATA_API,c.DATA_TOGGLE,function(t){t.preventDefault();var e=p._getTargetFromElement(this),n=$(e).data(i),o=n?"toggle":$(this).data();p._jQueryInterface.call($(e),o)}),$.fn[t]=p._jQueryInterface,$.fn[t].Constructor=p,$.fn[t].noConflict=function(){return $.fn[t]=s,p._jQueryInterface},p}(jQuery),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Dropdown=function($){var t="dropdown",e="4.0.0-alpha",i="bs.dropdown",n="."+i,o=".data-api",s=$.fn[t],a={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,CLICK:"click"+n,CLICK_DATA_API:"click"+n+o,KEYDOWN_DATA_API:"keydown"+n+o},r={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},l={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},h=function(){function t(e){_classCallCheck(this,t),this._element=e,this._addEventListeners()}return _createClass(t,[{key:"toggle",value:function o(){if(this.disabled||$(this).hasClass(r.DISABLED))return!1;var e=t._getParentFromElement(this),i=$(e).hasClass(r.OPEN);if(t._clearMenus(),i)return!1;if("ontouchstart"in document.documentElement&&!$(e).closest(l.NAVBAR_NAV).length){var n=document.createElement("div");n.className=r.BACKDROP,$(n).insertBefore(this),$(n).on("click",t._clearMenus)}var o={relatedTarget:this},s=$.Event(a.SHOW,o);return $(e).trigger(s),s.isDefaultPrevented()?!1:(this.focus(),this.setAttribute("aria-expanded","true"),$(e).toggleClass(r.OPEN),$(e).trigger($.Event(a.SHOWN,o)),!1)}},{key:"dispose",value:function s(){$.removeData(this._element,i),$(this._element).off(n),this._element=null}},{key:"_addEventListeners",value:function h(){$(this._element).on(a.CLICK,this.toggle)}}],[{key:"_jQueryInterface",value:function u(e){return this.each(function(){var n=$(this).data(i);if(n||$(this).data(i,n=new t(this)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e].call(this)}})}},{key:"_clearMenus",value:function d(e){if(!e||3!==e.which){var i=$(l.BACKDROP)[0];i&&i.parentNode.removeChild(i);for(var n=$.makeArray($(l.DATA_TOGGLE)),o=0;o<n.length;o++){var s=t._getParentFromElement(n[o]),h={relatedTarget:n[o]};if($(s).hasClass(r.OPEN)&&!(e&&"click"===e.type&&/input|textarea/i.test(e.target.tagName)&&$.contains(s,e.target))){var u=$.Event(a.HIDE,h);$(s).trigger(u),u.isDefaultPrevented()||(n[o].setAttribute("aria-expanded","false"),$(s).removeClass(r.OPEN).trigger($.Event(a.HIDDEN,h)))}}}}},{key:"_getParentFromElement",value:function c(t){var e=void 0,i=Util.getSelectorFromElement(t);return i&&(e=$(i)[0]),e||t.parentNode}},{key:"_dataApiKeydownHandler",value:function p(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!$(this).hasClass(r.DISABLED))){var i=t._getParentFromElement(this),n=$(i).hasClass(r.OPEN);if(!n&&27!==e.which||n&&27===e.which){if(27===e.which){var o=$(i).find(l.DATA_TOGGLE)[0];$(o).trigger("focus")}return void $(this).trigger("click")}var s=$.makeArray($(l.VISIBLE_ITEMS));if(s=s.filter(function(t){return t.offsetWidth||t.offsetHeight}),s.length){var a=s.indexOf(e.target);38===e.which&&a>0&&a--,40===e.which&&a<s.length-1&&a++,~a||(a=0),s[a].focus()}}}},{key:"VERSION",get:function f(){return e}}]),t}();return $(document).on(a.KEYDOWN_DATA_API,l.DATA_TOGGLE,h._dataApiKeydownHandler).on(a.KEYDOWN_DATA_API,l.ROLE_MENU,h._dataApiKeydownHandler).on(a.KEYDOWN_DATA_API,l.ROLE_LISTBOX,h._dataApiKeydownHandler).on(a.CLICK_DATA_API,h._clearMenus).on(a.CLICK_DATA_API,l.DATA_TOGGLE,h.prototype.toggle).on(a.CLICK_DATA_API,l.FORM_CHILD,function(t){t.stopPropagation()}),$.fn[t]=h._jQueryInterface,$.fn[t].Constructor=h,$.fn[t].noConflict=function(){return $.fn[t]=s,h._jQueryInterface},h}(jQuery);/*!
 * Shuffle.js by @Vestride
 * Categorize, sort, and filter a responsive grid of items.
 * Dependencies: jQuery 1.9+, Modernizr 2.6.2+
 * @license MIT license
 * @version 3.1.1
 */
window.Modernizr=function(t,e,i){function n(t){g.cssText=t}function o(t,e){return n(_.join(t+";")+(e||""))}function s(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var n in t){var o=t[n];if(!a(o,"-")&&g[o]!==i)return"pfx"==e?o:!0}return!1}function l(t,e,n){for(var o in t){var a=e[t[o]];if(a!==i)return n===!1?t[o]:s(a,"function")?a.bind(n||e):a}return!1}function h(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+w.join(n+" ")+n).split(" ");return s(e,"string")||s(e,"undefined")?r(o,e):(o=(t+" "+A.join(n+" ")+n).split(" "),l(o,e,i))}var u="2.6.2",d={},c=!0,p=e.documentElement,f="modernizr",m=e.createElement(f),g=m.style,v,y={}.toString,_=" -webkit- -moz- -o- -ms- ".split(" "),b="Webkit Moz O ms",w=b.split(" "),A=b.toLowerCase().split(" "),C={},T={},E={},x=[],k=x.slice,I,S=function(t,i,n,o){var s,a,r,l,h=e.createElement("div"),u=e.body,d=u||e.createElement("body");if(parseInt(n,10))for(;n--;)r=e.createElement("div"),r.id=o?o[n]:f+(n+1),h.appendChild(r);return s=["&#173;",'<style id="s',f,'">',t,"</style>"].join(""),h.id=f,(u?h:d).innerHTML+=s,d.appendChild(h),u||(d.style.background="",d.style.overflow="hidden",l=p.style.overflow,p.style.overflow="hidden",p.appendChild(d)),a=i(h,t),u?h.parentNode.removeChild(h):(d.parentNode.removeChild(d),p.style.overflow=l),!!a},L={}.hasOwnProperty,M;M=s(L,"undefined")||s(L.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return L.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=k.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=e.prototype;var s=new o,a=e.apply(s,i.concat(k.call(arguments)));return Object(a)===a?a:s}return e.apply(t,i.concat(k.call(arguments)))};return n}),C.csstransforms=function(){return!!h("transform")},C.csstransforms3d=function(){var t=!!h("perspective");return t&&"webkitPerspective"in p.style&&S("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,i){t=9===e.offsetLeft&&3===e.offsetHeight}),t},C.csstransitions=function(){return h("transition")};for(var D in C)M(C,D)&&(I=D.toLowerCase(),d[I]=C[D](),x.push((d[I]?"":"no-")+I));return d.addTest=function(t,e){if("object"==typeof t)for(var n in t)M(t,n)&&d.addTest(n,t[n]);else{if(t=t.toLowerCase(),d[t]!==i)return d;e="function"==typeof e?e():e,"undefined"!=typeof c&&c&&(p.className+=" "+(e?"":"no-")+t),d[t]=e}return d},n(""),m=v=null,d._version=u,d._prefixes=_,d._domPrefixes=A,d._cssomPrefixes=w,d.testProp=function(t){return r([t])},d.testAllProps=h,d.testStyles=S,d.prefixed=function(t,e,i){return e?h(t,e,i):h(t,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(c?" js "+x.join(" "):""),d}(this,this.document),function(t){"function"==typeof define&&define.amd?define(["jquery","modernizr"],t):"object"==typeof exports?module.exports=t(require("jquery"),window.Modernizr):window.Shuffle=t(window.jQuery,window.Modernizr)}(function($,t,e){function i(t){return t?t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"):""}function n(t,e,i){var n,o,s,a=null,r=0;i=i||{};var l=function(){r=i.leading===!1?0:$.now(),a=null,s=t.apply(n,o),n=o=null};return function(){var h=$.now();r||i.leading!==!1||(r=h);var u=e-(h-r);return n=this,o=arguments,0>=u||u>e?(clearTimeout(a),a=null,r=h,s=t.apply(n,o),n=o=null):a||i.trailing===!1||(a=setTimeout(l,u)),s}}function o(t,e,i){for(var n=0,o=t.length;o>n;n++)if(e.call(i,t[n],n,t)==={})return}function s(t,e,i){return setTimeout($.proxy(t,e),i)}function a(t){return Math.max.apply(Math,t)}function r(t){return Math.min.apply(Math,t)}function l(t){return $.isNumeric(t)?t:0}function h(t){var e,i,n=t.length;if(!n)return t;for(;--n;)i=Math.floor(Math.random()*(n+1)),e=t[i],t[i]=t[n],t[n]=e;return t}if("object"!=typeof t)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var u=t.prefixed("transition"),d=t.prefixed("transitionDelay"),c=t.prefixed("transitionDuration"),p={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[u],f=t.prefixed("transform"),m=i(f),g=t.csstransforms&&t.csstransitions,v=t.csstransforms3d,y=!!window.getComputedStyle,_="shuffle",b="all",w="groups",A=1,C=.001,T=window.getComputedStyle||function(){},E=function(t,e){this.x=l(t),this.y=l(e)};E.equals=function(t,e){return t.x===e.x&&t.y===e.y};var x=function(){if(!y)return!1;var t=document.body||document.documentElement,e=document.createElement("div");e.style.cssText="width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;",t.appendChild(e);var i=T(e,null).width,n="10px"===i;return t.removeChild(e),n}(),k=0,I=$(window),S=function(t,e){e=e||{},$.extend(this,S.options,e,S.settings),this.$el=$(t),this.element=t,this.unique="shuffle_"+k++,this._fire(S.EventType.LOADING),this._init(),s(function(){this.initialized=!0,this._fire(S.EventType.DONE)},this,16)};return S.EventType={LOADING:"loading",DONE:"done",LAYOUT:"layout",REMOVED:"removed"},S.ClassName={BASE:_,SHUFFLE_ITEM:"shuffle-item",FILTERED:"filtered",CONCEALED:"concealed"},S.options={group:b,speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,columnThreshold:y?.01:.1,initialSort:null,throttle:n,throttleTime:300,sequentialFadeDelay:150,supported:g},S.settings={useSizer:!1,itemCss:{position:"absolute",top:0,left:0,visibility:"visible"},revealAppendedDelay:300,lastSort:{},lastFilter:b,enabled:!0,destroyed:!1,initialized:!1,_animations:[],_transitions:[],_isMovementCanceled:!1,styleQueue:[]},S.Point=E,S._getItemTransformString=function(t,e){return v?"translate3d("+t.x+"px, "+t.y+"px, 0) scale3d("+e+", "+e+", 1)":"translate("+t.x+"px, "+t.y+"px) scale("+e+")"},S._getNumberStyle=function(t,e,i){if(y){i=i||T(t,null);var n=S._getFloat(i[e]);return x||"width"!==e?x||"height"!==e||(n+=S._getFloat(i.paddingTop)+S._getFloat(i.paddingBottom)+S._getFloat(i.borderTopWidth)+S._getFloat(i.borderBottomWidth)):n+=S._getFloat(i.paddingLeft)+S._getFloat(i.paddingRight)+S._getFloat(i.borderLeftWidth)+S._getFloat(i.borderRightWidth),n}return S._getFloat($(t).css(e))},S._getFloat=function(t){return l(parseFloat(t))},S._getOuterWidth=function(t,e){var i=T(t,null),n=S._getNumberStyle(t,"width",i);if(e){var o=S._getNumberStyle(t,"marginLeft",i),s=S._getNumberStyle(t,"marginRight",i);n+=o+s}return n},S._getOuterHeight=function(t,e){var i=T(t,null),n=S._getNumberStyle(t,"height",i);if(e){var o=S._getNumberStyle(t,"marginTop",i),s=S._getNumberStyle(t,"marginBottom",i);n+=o+s}return n},S._skipTransition=function(t,e,i){var n=t.style[c];t.style[c]="0ms",e.call(i);var o=t.offsetWidth;o=null,t.style[c]=n},S.prototype._init=function(){this.$items=this._getItems(),this.sizer=this._getElementOption(this.sizer),this.sizer&&(this.useSizer=!0),this.$el.addClass(S.ClassName.BASE),this._initItems(),I.on("resize."+_+"."+this.unique,this._getResizeFunction());var t=this.$el.css(["position","overflow"]),e=S._getOuterWidth(this.element);this._validateStyles(t),this._setColumns(e),this.shuffle(this.group,this.initialSort),this.supported&&s(function(){this._setTransitions(),this.element.style[u]="height "+this.speed+"ms "+this.easing},this)},S.prototype._getResizeFunction=function(){var t=$.proxy(this._onResize,this);return this.throttle?this.throttle(t,this.throttleTime):t},S.prototype._getElementOption=function(t){return"string"==typeof t?this.$el.find(t)[0]||null:t&&t.nodeType&&1===t.nodeType?t:t&&t.jquery?t[0]:null},S.prototype._validateStyles=function(t){"static"===t.position&&(this.element.style.position="relative"),"hidden"!==t.overflow&&(this.element.style.overflow="hidden")},S.prototype._filter=function(t,e){t=t||this.lastFilter,e=e||this.$items;var i=this._getFilteredSets(t,e);return this._toggleFilterClasses(i.filtered,i.concealed),this.lastFilter=t,"string"==typeof t&&(this.group=t),i.filtered},S.prototype._getFilteredSets=function(t,e){var i=$(),n=$();return t===b?i=e:o(e,function(e){var o=$(e);this._doesPassFilter(t,o)?i=i.add(o):n=n.add(o)},this),{filtered:i,concealed:n}},S.prototype._doesPassFilter=function(t,e){if($.isFunction(t))return t.call(e[0],e,this);var i=e.data(w),n=this.delimeter&&!$.isArray(i)?i.split(this.delimeter):i;return $.inArray(t,n)>-1},S.prototype._toggleFilterClasses=function(t,e){t.removeClass(S.ClassName.CONCEALED).addClass(S.ClassName.FILTERED),e.removeClass(S.ClassName.FILTERED).addClass(S.ClassName.CONCEALED)},S.prototype._initItems=function(t){t=t||this.$items,t.addClass([S.ClassName.SHUFFLE_ITEM,S.ClassName.FILTERED].join(" ")),t.css(this.itemCss).data("point",new E).data("scale",A)},S.prototype._updateItemCount=function(){this.visibleItems=this._getFilteredItems().length},S.prototype._setTransition=function(t){t.style[u]=m+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},S.prototype._setTransitions=function(t){t=t||this.$items,o(t,function(t){this._setTransition(t)},this)},S.prototype._setSequentialDelay=function(t){this.supported&&o(t,function(t,e){t.style[d]="0ms,"+(e+1)*this.sequentialFadeDelay+"ms"},this)},S.prototype._getItems=function(){return this.$el.children(this.itemSelector)},S.prototype._getFilteredItems=function(){return this.$items.filter("."+S.ClassName.FILTERED)},S.prototype._getConcealedItems=function(){return this.$items.filter("."+S.ClassName.CONCEALED)},S.prototype._getColumnSize=function(t,e){var i;return i=$.isFunction(this.columnWidth)?this.columnWidth(t):this.useSizer?S._getOuterWidth(this.sizer):this.columnWidth?this.columnWidth:this.$items.length>0?S._getOuterWidth(this.$items[0],!0):t,0===i&&(i=t),i+e},S.prototype._getGutterSize=function(t){var e;return e=$.isFunction(this.gutterWidth)?this.gutterWidth(t):this.useSizer?S._getNumberStyle(this.sizer,"marginLeft"):this.gutterWidth},S.prototype._setColumns=function(t){var e=t||S._getOuterWidth(this.element),i=this._getGutterSize(e),n=this._getColumnSize(e,i),o=(e+i)/n;Math.abs(Math.round(o)-o)<this.columnThreshold&&(o=Math.round(o)),this.cols=Math.max(Math.floor(o),1),this.containerWidth=e,this.colWidth=n},S.prototype._setContainerSize=function(){this.$el.css("height",this._getContainerSize())},S.prototype._getContainerSize=function(){return a(this.positions)},S.prototype._fire=function(t,e){this.$el.trigger(t+"."+_,e&&e.length?e:[this])},S.prototype._resetCols=function(){var t=this.cols;for(this.positions=[];t--;)this.positions.push(0)},S.prototype._layout=function(t,e){o(t,function(t){this._layoutItem(t,!!e)},this),this._processStyleQueue(),this._setContainerSize()},S.prototype._layoutItem=function(t,e){var i=$(t),n=i.data(),o=n.point,s=n.scale,a={width:S._getOuterWidth(t,!0),height:S._getOuterHeight(t,!0)},r=this._getItemPosition(a);E.equals(o,r)&&s===A||(n.point=r,n.scale=A,this.styleQueue.push({$item:i,point:r,scale:A,opacity:e?0:1,skipTransition:e||0===this.speed,callfront:function(){e||i.css("visibility","visible")},callback:function(){e&&i.css("visibility","hidden")}}))},S.prototype._getItemPosition=function(t){for(var e=this._getColumnSpan(t.width,this.colWidth,this.cols),i=this._getColumnSet(e,this.cols),n=this._getShortColumn(i,this.buffer),o=new E(Math.round(this.colWidth*n),Math.round(i[n])),s=i[n]+t.height,a=this.cols+1-i.length,r=0;a>r;r++)this.positions[n+r]=s;return o},S.prototype._getColumnSpan=function(t,e,i){var n=t/e;return Math.abs(Math.round(n)-n)<this.columnThreshold&&(n=Math.round(n)),Math.min(Math.ceil(n),i)},S.prototype._getColumnSet=function(t,e){if(1===t)return this.positions;for(var i=e+1-t,n=[],o=0;i>o;o++)n[o]=a(this.positions.slice(o,o+t));return n},S.prototype._getShortColumn=function(t,e){for(var i=r(t),n=0,o=t.length;o>n;n++)if(t[n]>=i-e&&t[n]<=i+e)return n;return 0},S.prototype._shrink=function(t){var e=t||this._getConcealedItems();o(e,function(t){var e=$(t),i=e.data();i.scale!==C&&(i.scale=C,this.styleQueue.push({$item:e,point:i.point,scale:C,opacity:0,callback:function(){e.css("visibility","hidden")}}))},this)},S.prototype._onResize=function(){if(this.enabled&&!this.destroyed){var t=S._getOuterWidth(this.element);t!==this.containerWidth&&this.update()}},S.prototype._getStylesForTransition=function(t){var e={opacity:t.opacity};return this.supported?e[f]=S._getItemTransformString(t.point,t.scale):(e.left=t.point.x,e.top=t.point.y),e},S.prototype._transition=function(t){var e=this._getStylesForTransition(t);this._startItemAnimation(t.$item,e,t.callfront||$.noop,t.callback||$.noop)},S.prototype._startItemAnimation=function(t,e,i,n){function o(t){t.target===t.currentTarget&&($(t.target).off(p,o),s._removeTransitionReference(a),n())}var s=this,a={$element:t,handler:o};if(i(),!this.initialized)return t.css(e),void n();if(this.supported)t.css(e),t.on(p,o),this._transitions.push(a);else{var r=t.stop(!0).animate(e,this.speed,"swing",n);this._animations.push(r.promise())}},S.prototype._processStyleQueue=function(t){this.isTransitioning&&this._cancelMovement();var e=$();o(this.styleQueue,function(t){t.skipTransition?this._styleImmediately(t):(e=e.add(t.$item),this._transition(t))},this),e.length>0&&this.initialized&&this.speed>0?(this.isTransitioning=!0,this.supported?this._whenCollectionDone(e,p,this._movementFinished):this._whenAnimationsDone(this._movementFinished)):t||s(this._layoutEnd,this),this.styleQueue.length=0},S.prototype._cancelMovement=function(){this.supported?o(this._transitions,function(t){t.$element.off(p,t.handler)}):(this._isMovementCanceled=!0,this.$items.stop(!0),this._isMovementCanceled=!1),this._transitions.length=0,this.isTransitioning=!1},S.prototype._removeTransitionReference=function(t){var e=$.inArray(t,this._transitions);e>-1&&this._transitions.splice(e,1)},S.prototype._styleImmediately=function(t){S._skipTransition(t.$item[0],function(){t.$item.css(this._getStylesForTransition(t))},this)},S.prototype._movementFinished=function(){this.isTransitioning=!1,this._layoutEnd()},S.prototype._layoutEnd=function(){this._fire(S.EventType.LAYOUT)},S.prototype._addItems=function(t,e,i){this._initItems(t),this._setTransitions(t),this.$items=this._getItems(),this._shrink(t),o(this.styleQueue,function(t){t.skipTransition=!0}),this._processStyleQueue(!0),e?this._addItemsToEnd(t,i):this.shuffle(this.lastFilter)},S.prototype._addItemsToEnd=function(t,e){var i=this._filter(null,t),n=i.get();this._updateItemCount(),this._layout(n,!0),e&&this.supported&&this._setSequentialDelay(n),this._revealAppended(n)},S.prototype._revealAppended=function(t){s(function(){o(t,function(t){var e=$(t);this._transition({$item:e,opacity:1,point:e.data("point"),scale:A})},this),this._whenCollectionDone($(t),p,function(){$(t).css(d,"0ms"),this._movementFinished()})},this,this.revealAppendedDelay)},S.prototype._whenCollectionDone=function(t,e,i){function n(t){t.target===t.currentTarget&&($(t.target).off(e,n),o++,o===s&&(a._removeTransitionReference(r),i.call(a)))}var o=0,s=t.length,a=this,r={$element:t,handler:n};t.on(e,n),this._transitions.push(r)},S.prototype._whenAnimationsDone=function(t){$.when.apply(null,this._animations).always($.proxy(function(){this._animations.length=0,this._isMovementCanceled||t.call(this)},this))},S.prototype.shuffle=function(t,e){this.enabled&&(t||(t=b),this._filter(t),this._updateItemCount(),this._shrink(),this.sort(e))},S.prototype.sort=function(t){if(this.enabled){this._resetCols();var e=t||this.lastSort,i=this._getFilteredItems().sorted(e);this._layout(i),this.lastSort=e}},S.prototype.update=function(t){this.enabled&&(t||this._setColumns(),this.sort())},S.prototype.layout=function(){this.update(!0)},S.prototype.appended=function(t,e,i){this._addItems(t,e===!0,i!==!1)},S.prototype.disable=function(){this.enabled=!1},S.prototype.enable=function(t){this.enabled=!0,t!==!1&&this.update()},S.prototype.remove=function(t){function e(){t.remove(),this.$items=this._getItems(),this._updateItemCount(),this._fire(S.EventType.REMOVED,[t,this]),t=null}t.length&&t.jquery&&(this._toggleFilterClasses($(),t),this._shrink(t),this.sort(),this.$el.one(S.EventType.LAYOUT+"."+_,$.proxy(e,this)))},S.prototype.destroy=function(){I.off("."+this.unique),this.$el.removeClass(_).removeAttr("style").removeData(_),this.$items.removeAttr("style").removeData("point").removeData("scale").removeClass([S.ClassName.CONCEALED,S.ClassName.FILTERED,S.ClassName.SHUFFLE_ITEM].join(" ")),this.$items=null,this.$el=null,this.sizer=null,this.element=null,this._transitions=null,this.destroyed=!0},$.fn.shuffle=function(t){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=$(this),n=i.data(_);n?"string"==typeof t&&n[t]&&n[t].apply(n,e):(n=new S(this,t),i.data(_,n))})},$.fn.sorted=function(t){var i=$.extend({},$.fn.sorted.defaults,t),n=this.get(),o=!1;return n.length?i.randomize?h(n):($.isFunction(i.by)&&n.sort(function(t,n){if(o)return 0;var s=i.by($(t)),a=i.by($(n));return s===e&&a===e?(o=!0,0):a>s||"sortFirst"===s||"sortLast"===a?-1:s>a||"sortLast"===s||"sortFirst"===a?1:0}),o?this.get():(i.reverse&&n.reverse(),n)):[]},$.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},S}),function(t,e,i,n){function o(e,i){this.element=e,this.options=t.extend({},a,i),this._defaults=a,this._name=s,this.init()}var s="parallaxify",a={positionProperty:"position",horizontalParallax:!0,verticalParallax:!0,parallaxBackgrounds:!0,parallaxElements:!0,responsive:!1,useMouseMove:!0,useGyroscope:!0,alphaFilter:.9,motionType:"natural",mouseMotionType:"gaussian",inputPriority:"mouse",motionAngleX:80,motionAngleY:80,adjustBasePosition:!0,alphaPosition:.05},r={position:{setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)}},transform:{setPosition:function(t,e,i,n,o){t[0].style[m]="translate3d("+(e-i)+"px, "+(n-o)+"px, 0)"}}},l=function(t,e,i){return null===e?t:("undefined"==typeof i&&(i=.5),i*t+(1-i)*e)},h=[],u={linear:function(t,e){return-e>=t?1:t>=e?-1:-t/e},natural:function(t,e){return-e>=t?1:t>=e?-1:(h["n"+e]===n&&(h["n"+e]=Math.tan(.01745*e)),-Math.tan(.01745*t)/h["n"+e])},performance:function(t,e){return-e>=t?1:t>=e?-1:(h["p"+e]===n&&(h["p"+e]=e/90+4.2*Math.pow(e/90,7)),-(t/90+4.2*Math.pow(t/90,7))/h["p"+e])},gaussian:function(t,e){return 1-2*(1/(1+Math.exp(-(.07056*(135/e)*(t/90^3))-1.5976*(135/e)*(t/90))))}},d=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,c=t("script")[0].style,p="",f;for(f in c)if(d.test(f)){p=f.match(d)[0];break}"WebkitOpacity"in c&&(p="Webkit"),"KhtmlOpacity"in c&&(p="Khtml");var m=p+(0<p.length?"T"+"transform".slice(1):"transform"),g=(d=t("<div />",{style:"background:#fff"}).css("background-position-x")!==n)?function(t,e,i){t.css({"background-position-x":e,"background-position-y":i})}:function(t,e,i){t.css("background-position",e+" "+i)},v=d?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},y=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/30)};o.prototype={init:function(){this.options.name=s+"_"+Math.floor(1e9*Math.random()),this.tilt={beta:0,gamma:0},this._defineElements(),this._defineGetters(),this._defineSetters(),this._detectMobile(),this._detectMotionType(),this._detectViewport(),this._handleWindowLoadAndResize(),this.refresh({firstLoad:!0}),this._startAnimation()},_defineElements:function(){this.$element=t(this.element===i.body||this.element===e?"body":this.element),this.$viewportElement=t(e)},_defineGetters:function(){var t=u[this.options.motionType],e=u[this.options.mouseMotionType];this._getMoveHorizontal=function(){if(this.useMouseMove&&null!==this.clientX&&this.clientX!==this.oldClientX)return e(this.options.motionAngleX*(1-2*this.clientX/this.viewportWidth),this.options.motionAngleX);if(this.useSensor&&null!==this.beta&&null!==this.gamma){var i=this.tilt;return this.viewportLandscape?this.viewportFlipped?t(-i.beta,this.options.motionAngleX):t(i.beta,this.options.motionAngleX):this.viewportFlipped?t(-i.gamma,this.options.motionAngleX):t(i.gamma,this.options.motionAngleX)}return this.useSensor=!1,e(this.options.motionAngleX*(1-2*this.oldClientX/this.viewportWidth),this.options.motionAngleX)},this._getMoveVertical=function(){if(this.options.useMouseMove&&null!==this.clientY&&this.clientY!==this.oldClientY)return e(this.options.motionAngleY*(1-2*this.clientY/this.viewportHeight),this.options.motionAngleY);if(this.useSensor&&null!==this.beta&&null!==this.gamma){var i=this.tilt;return this.viewportLandscape?this.viewportFlipped?t(-i.gamma,this.options.motionAngleY):t(i.gamma,this.options.motionAngleY):this.viewportFlipped?t(-i.beta,this.options.motionAngleY):t(i.beta,this.options.motionAngleY)}return this.useSensor=!1,e(this.options.motionAngleY*(1-2*this.oldClientY/this.viewportHeight),this.options.motionAngleY)}},_defineSetters:function(){var t=this,e=r[t.options.positionProperty];this._setPosition=e.setPosition||function(i,n,o,s,a){t.options.horizontalParallax&&e.setLeft(i,n,o),t.options.verticalParallax&&e.setTop(i,s,a)}},refresh:function(i){(!i||!i.firstLoad)&&this._reset(),this._findElements(),this._findBackgrounds(),i&&i.firstLoad&&/WebKit/.test(navigator.userAgent)&&t(e).load(function(){var e=t("body");oldLeft=e.scrollLeft(),oldTop=e.scrollTop(),e.scrollLeft(oldLeft+1),e.scrollTop(oldTop+1),e.scrollLeft(oldLeft),e.scrollTop(oldTop)})},_detectViewport:function(){this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.useSensor&&(this.viewportFlipped=180===e.orientation,this.viewportLandscape=90===Math.abs(e.orientation))},_detectMobile:function(){var t=navigator.userAgent||navigator.vendor||e.opera;this.isMobile=/(bb\d+|meego).+mobile|android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|playbook|plucker|pocket|psp|series(4|6)0|silk|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))},_detectMotionType:function(){this.useMouseMove=this.useSensorMoz=this.useSensorWebkit=this.useSensor=!1,this.options.useGyroscope&&(this.isMobile||"gyroscope"===this.options.inputPriority)&&(this.useSensorWebkit=e.DeviceOrientationEvent!==n,this.useSensorMoz=e.OrientationEvent!==n,this.useSensor=this.useSensorWebkit||this.useSensorMoz),this.options.useMouseMove&&!this.isMobile&&(this.useMouseMove=this.$viewportElement.mousemove!==n)},_findElements:function(){var e=this;if(this.elements!==n)for(var i=this.elements.length-1;i>=0;i--)this.elements[i].$element.data("parallaxify-ElementIsActive",n);this.elements=[],this.options.parallaxElements&&this.$element.find("[data-parallaxify-range],[data-parallaxify-range-x],[data-parallaxify-range-y]").each(function(){var i=t(this);if(i.data("parallaxify-ElementIsActive")){if(i.data("parallaxify-ElementIsActive")!==this)return}else i.data("parallaxify-ElementIsActive",this);i.data("parralaxify-originalLeft")?(i.css("left",i.data("parallaxify-originalLeft")),i.css("top",i.data("parallaxify-originalTop"))):(i.data("parallaxify-originalLeft",i.css("left")),i.data("parallaxify-originalTop",i.css("top"))),e.elements.push({$element:i,originalPositionLeft:i.position().left,originalPositionTop:i.position().top,parallaxDistanceX:i.data("parallaxify-range-x")!==n?i.data("parallaxify-range-x"):i.data("parallaxify-range")!==n?i.data("parallaxify-range"):0,parallaxDistanceY:i.data("parallaxify-range-y")!==n?i.data("parallaxify-range-y"):i.data("parallaxify-range")!==n?i.data("parallaxify-range"):0,width:i.outerWidth(!0),height:i.outerHeight(!0)})})},_findBackgrounds:function(){var e=this,i;this.backgrounds=[],this.options.parallaxBackgrounds&&(i=this.$element.find("[data-parallaxify-background-range],[data-parallaxify-background-range-x],[data-parallaxify-background-range-y]"),(this.$element.data("parallaxify-background-range")||this.$element.data("parallaxify-background-range-x")||this.$element.data("parallaxify-background-range-y"))&&(i=i.add(this.$element)),i.each(function(){var i=t(this),o=v(i);if(i.data("parallaxify-backgroundIsActive")){if(i.data("parallaxify-backgroundIsActive")!==this)return}else i.data("parallaxify-backgroundIsActive",this);i.data("parralaxify-backgroundOriginalLeft")?g(i,i.data("parallaxify-backgroundOriginalLeft"),i.data("parallaxify-backgroundOriginalTop")):(i.data("parallaxify-backgroundOriginalLeft",o[0]),i.data("parallaxify-backgroundOriginalTop",o[1])),e.backgrounds.push({$element:i,originalValueLeft:o[0],originalValueTop:o[1],originalBackgroundPositionLeft:isNaN(parseInt(o[0],10))?0:parseInt(o[0],10),originalBackgroundPositionTop:isNaN(parseInt(o[1],10))?0:parseInt(o[1],10),originalPositionLeft:i.position().left,originalPositionTop:i.position().top,parallaxDistanceX:i.data("parallaxify-background-range-x")!==n?i.data("parallaxify-background-range-x"):i.data("parallaxify-background-range")!==n?i.data("parallaxify-background-range"):0,parallaxDistanceY:i.data("parallaxify-background-range-y")!==n?i.data("parallaxify-background-range-y"):i.data("parallaxify-background-range")!==n?i.data("parallaxify-background-range"):0})}))},_reset:function(){var t,e,i,n;for(n=this.elements.length-1;n>=0;n--)t=this.elements[n],e=t.$element.data("parallaxify-originalLeft"),i=t.$element.data("parallaxify-originalTop"),this._setPosition(t.$element,e,e,i,i),t.$element.data("parallaxify-originalLeft",null).data("parallaxify-originalLeft",null).data("parallaxify-elementIsActive",null).data("parallaxify-backgroundIsActive",null);for(n=this.backgrounds.length-1;n>=0;n--)t=this.backgrounds[n],t.$element.data("parallaxify-backgroundOriginalLeft",null).data("parallaxify-backgroundOriginalTop",null).data("parallaxify-backgroundIsActive",null),g(t.$element,t.originalValueLeft,t.originalValueTop)},destroy:function(){this._reset(),this.useMouseMove&&this.$viewportElement.unbind("mousemove."+this.name),this.useSensorWebkit&&e.removeEventListener("deviceorientation",this._handleSensorWebkit,!1),this.useSensorMoz&&e.removeEventListener("MozOrientation",this._handleSensorMoz,!1),t(e).unbind("load."+this.name).unbind("resize."+this.name).unbind("orientationchange."+this.name)},_processSensorData:function(){if(this.useSensor){var t=this.beta,e=this.gamma,i=0,o=0;t>90&&(t-=180),e>180&&(e-=360),this.initialBeta===n&&null!==t&&(this.initialBeta=t,this.useSensor&&"gyroscope"===this.options.inputPriority&&(this.useMouseMove=!1)),this.initialGamma===n&&null!==e&&(this.initialGamma=e,this.useSensor&&"gyroscope"===this.options.inputPriority&&(this.useMouseMove=!1)),this.options.adjustBasePosition&&this.initialGamma!==n&&this.initialBeta!==n&&(this.initialGamma=-180>e-this.initialGamma?l(e+360,this.initialGamma,this.options.alphaPosition):180<e-this.initialGamma?l(e-360,this.initialGamma,this.options.alphaPosition):l(e,this.initialGamma,this.options.alphaPosition),this.initialBeta=-90>t-this.initialBeta?l(t+180,this.initialBeta,this.options.alphaPosition):90<t-this.initialBeta?l(t-180,this.initialBeta,this.options.alphaPosition):l(t,this.initialBeta,this.options.alphaPosition)),i=this.initialBeta!==n?t-this.initialBeta:t,o=this.initialGamma!==n?e-this.initialGamma:e,i>100?i-=180:-100>i&&(i+=180),o>200?o-=360:-200>o&&(o+=360),i=l(i,this.tilt.beta,this.options.alphaFilter),o=l(o,this.tilt.gamma,this.options.alphaFilter),this.tilt.beta=i,this.tilt.gamma=o}},_repositionElements:function(){var t=this._getMoveHorizontal(),e=this._getMoveVertical(),i,n,o,s;if(this.currentMoveHorizontal!==t||this.currentMoveVertical!==e||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentMoveHorizontal=t,this.currentMoveVertical=e,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,s=this.elements.length-1;s>=0;s--)i=this.elements[s],n=this.options.horizontalParallax?Math.floor(t*i.parallaxDistanceX/2)+i.originalPositionLeft:i.originalPositionLeft,o=this.options.verticalParallax?Math.floor(e*i.parallaxDistanceY/2)+i.originalPositionTop:i.originalPositionTop,this._setPosition(i.$element,n,i.originalPositionLeft,o,i.originalPositionTop);for(s=this.backgrounds.length-1;s>=0;s--)i=this.backgrounds[s],n=this.options.horizontalParallax?Math.floor(t*i.parallaxDistanceX/2)+i.originalBackgroundPositionLeft+"px":i.originalValueLeft,o=this.options.verticalParallax?Math.floor(e*i.parallaxDistanceY/2)+i.originalBackgroundPositionTop+"px":i.originalValueTop,g(i.$element,n,o)}},_handleWindowLoadAndResize:function(){var i=this,n=t(e);i.options.responsive&&n.bind("load."+this.name,function(){i.refresh()}),n.bind("resize."+this.name,function(){i._detectViewport(),i.options.responsive&&i.refresh()}),n.bind("orientationchange."+this.name,function(){i._detectViewport(),i.options.responsive&&i.refresh()})},_startAnimation:function(){var t=this,i=!1;this.gamma=this.beta=0,this.clientX=this.oldClientX=Math.round(t.viewportWidth/2),this.clientY=this.oldClientY=Math.round(t.viewportHeight/2);var o=function(){t._processSensorData(),t._repositionElements(),i=!1},s=function(){i||(y(o),i=!0)};this._handleSensorWebkit=function(e){t.gamma=e.gamma,t.beta=e.beta,s()},this._handleSensorMoz=function(e){t.gamma=180*e.x,t.beta=-90*e.y,s()},this._handleMouseMove=function(e){t.oldClientX=t.clientX,t.oldClientY=t.clientY,e.clientX!==n?t.clientX=e.clientX:t.clientX=e.pageX,e.clientY!==n?t.clientY=e.clientY:t.clientY=e.pageY,s()},this.useSensorWebkit?e.addEventListener("deviceorientation",t._handleSensorWebkit,!1):this.useSensorMoz&&e.addEventListener("MozOrientation",t._handleSensorMoz,!1),this.useMouseMove&&this.$viewportElement.bind("mousemove."+this.name,t._handleMouseMove),s()}},t.fn[s]=function(e){var i=arguments;return e===n||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new o(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var n=t.data(this,"plugin_"+s);n instanceof o&&"function"==typeof n[e]&&n[e].apply(n,Array.prototype.slice.call(i,1)),"destroy"===e&&t.data(this,"plugin_"+s,null)}):void 0},t[s]=function(i){var n=t(e);return n[s].apply(n,Array.prototype.slice.call(arguments,0))},t[s].positionProperty=r,t[s].motionType=u,e[s]=o}(jQuery,this,document);