"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t){t.fn.viewportChecker=function(e){var i={classToAdd:"visible",classToRemove:"invisible",classToAddForFullView:"full-visible",removeClassAfterAnimation:!1,offset:100,repeat:!1,invertBottomOffset:!0,callbackFunction:function(t,e){},scrollHorizontal:!1,scrollBox:window};t.extend(i,e);var n=this,s={height:t(i.scrollBox).height(),width:t(i.scrollBox).width()},o=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")||-1!=navigator.userAgent.toLowerCase().indexOf("windows phone")?"body":"html";return this.checkElements=function(){var e,r;i.scrollHorizontal?(e=t(o).scrollLeft(),r=e+s.width):(e=t(o).scrollTop(),r=e+s.height),n.each(function(){var n=t(this),o={},a={};if(n.data("vp-add-class")&&(a.classToAdd=n.data("vp-add-class")),n.data("vp-remove-class")&&(a.classToRemove=n.data("vp-remove-class")),n.data("vp-add-class-full-view")&&(a.classToAddForFullView=n.data("vp-add-class-full-view")),n.data("vp-keep-add-class")&&(a.removeClassAfterAnimation=n.data("vp-remove-after-animation")),n.data("vp-offset")&&(a.offset=n.data("vp-offset")),n.data("vp-repeat")&&(a.repeat=n.data("vp-repeat")),n.data("vp-scrollHorizontal")&&(a.scrollHorizontal=n.data("vp-scrollHorizontal")),n.data("vp-invertBottomOffset")&&(a.scrollHorizontal=n.data("vp-invertBottomOffset")),t.extend(o,i),t.extend(o,a),!n.data("vp-animated")||o.repeat){String(o.offset).indexOf("%")>0&&(o.offset=parseInt(o.offset)/100*s.height);var l=o.scrollHorizontal?n.offset().left:n.offset().top,h=o.scrollHorizontal?l+n.width():l+n.height(),u=Math.round(l)+o.offset,d=o.scrollHorizontal?u+n.width():u+n.height();o.invertBottomOffset&&(d-=2*o.offset),r>u&&d>e?(n.removeClass(o.classToRemove),n.addClass(o.classToAdd),o.callbackFunction(n,"add"),r>=h&&l>=e?n.addClass(o.classToAddForFullView):n.removeClass(o.classToAddForFullView),n.data("vp-animated",!0),o.removeClassAfterAnimation&&n.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n.removeClass(o.classToAdd)})):n.hasClass(o.classToAdd)&&o.repeat&&(n.removeClass(o.classToAdd+" "+o.classToAddForFullView),o.callbackFunction(n,"remove"),n.data("vp-animated",!1))}})},("ontouchstart"in window||"onmsgesturechange"in window)&&t(document).bind("touchmove MSPointerMove pointermove",this.checkElements),t(i.scrollBox).bind("load scroll",this.checkElements),t(window).resize(function(e){s={height:t(i.scrollBox).height(),width:t(i.scrollBox).width()},n.checkElements()}),this.checkElements(),this}}(jQuery);var Util=function($){function t(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function e(t){return(t[0]||t).nodeType}function i(){return{bindType:r.end,delegateType:r.end,handle:function t(e){return $(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}}}function n(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in a)if(void 0!==t.style[e])return{end:a[e]};return!1}function s(t){var e=this,i=!1;return $(this).one(l.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||l.triggerTransitionEnd(e)},t),this}function o(){r=n(),$.fn.emulateTransitionEnd=s,l.supportsTransitionEnd()&&($.event.special[l.TRANSITION_END]=i())}var r=!1,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},l={TRANSITION_END:"bsTransitionEnd",getUID:function h(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},getSelectorFromElement:function u(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function d(t){new Function("bs","return bs")(t.offsetHeight)},triggerTransitionEnd:function c(t){$(t).trigger(r.end)},supportsTransitionEnd:function f(){return Boolean(r)},typeCheckConfig:function p(i,n,s){for(var o in s)if(s.hasOwnProperty(o)){var r=s[o],a=n[o],l=void 0;if(l=a&&e(a)?"element":t(a),!new RegExp(r).test(l))throw new Error(i.toUpperCase()+": "+('Option "'+o+'" provided type "'+l+'" ')+('but expected type "'+r+'".'))}}};return o(),l}(jQuery),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Collapse=function($){var t="collapse",e="4.0.0-alpha",i="bs.collapse",n="."+i,s=".data-api",o=$.fn[t],r=600,a={toggle:!0,parent:""},l={toggle:"boolean",parent:"string"},h={SHOW:"show"+n,SHOWN:"shown"+n,HIDE:"hide"+n,HIDDEN:"hidden"+n,CLICK_DATA_API:"click"+n+s},u={IN:"in",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},d={WIDTH:"width",HEIGHT:"height"},c={ACTIVES:".panel > .in, .panel > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},f=function(){function n(t,e){_classCallCheck(this,n),this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=$.makeArray($('[data-toggle="collapse"][href="#'+t.id+'"],'+('[data-toggle="collapse"][data-target="#'+t.id+'"]'))),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return _createClass(n,[{key:"toggle",value:function s(){$(this._element).hasClass(u.IN)?this.hide():this.show()}},{key:"show",value:function o(){var t=this;if(!this._isTransitioning&&!$(this._element).hasClass(u.IN)){var e=void 0,s=void 0;if(this._parent&&(e=$.makeArray($(c.ACTIVES)),e.length||(e=null)),!(e&&(s=$(e).data(i),s&&s._isTransitioning))){var o=$.Event(h.SHOW);if($(this._element).trigger(o),!o.isDefaultPrevented()){e&&(n._jQueryInterface.call($(e),"hide"),s||$(e).data(i,null));var a=this._getDimension();$(this._element).removeClass(u.COLLAPSE).addClass(u.COLLAPSING),this._element.style[a]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&$(this._triggerArray).removeClass(u.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var l=function p(){$(t._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).addClass(u.IN),t._element.style[a]="",t.setTransitioning(!1),$(t._element).trigger(h.SHOWN)};if(!Util.supportsTransitionEnd())return void l();var d=a[0].toUpperCase()+a.slice(1),f="scroll"+d;$(this._element).one(Util.TRANSITION_END,l).emulateTransitionEnd(r),this._element.style[a]=this._element[f]+"px"}}}}},{key:"hide",value:function f(){var t=this;if(!this._isTransitioning&&$(this._element).hasClass(u.IN)){var e=$.Event(h.HIDE);if($(this._element).trigger(e),!e.isDefaultPrevented()){var i=this._getDimension(),n=i===d.WIDTH?"offsetWidth":"offsetHeight";this._element.style[i]=this._element[n]+"px",Util.reflow(this._element),$(this._element).addClass(u.COLLAPSING).removeClass(u.COLLAPSE).removeClass(u.IN),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&$(this._triggerArray).addClass(u.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var s=function o(){t.setTransitioning(!1),$(t._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).trigger(h.HIDDEN)};return this._element.style[i]=0,Util.supportsTransitionEnd()?void $(this._element).one(Util.TRANSITION_END,s).emulateTransitionEnd(r):void s()}}}},{key:"setTransitioning",value:function p(t){this._isTransitioning=t}},{key:"dispose",value:function m(){$.removeData(this._element,i),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}},{key:"_getConfig",value:function g(e){return e=$.extend({},a,e),e.toggle=Boolean(e.toggle),Util.typeCheckConfig(t,e,l),e}},{key:"_getDimension",value:function _(){var t=$(this._element).hasClass(d.WIDTH);return t?d.WIDTH:d.HEIGHT}},{key:"_getParent",value:function v(){var t=this,e=$(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return $(e).find(i).each(function(e,i){t._addAriaAndCollapsedClass(n._getTargetFromElement(i),[i])}),e}},{key:"_addAriaAndCollapsedClass",value:function y(t,e){if(t){var i=$(t).hasClass(u.IN);t.setAttribute("aria-expanded",i),e.length&&$(e).toggleClass(u.COLLAPSED,!i).attr("aria-expanded",i)}}}],[{key:"_getTargetFromElement",value:function C(t){var e=Util.getSelectorFromElement(t);return e?$(e)[0]:null}},{key:"_jQueryInterface",value:function E(t){return this.each(function(){var e=$(this),s=e.data(i),o=$.extend({},a,e.data(),"object"==typeof t&&t);if(!s&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),s||(s=new n(this,o),e.data(i,s)),"string"==typeof t){if(void 0===s[t])throw new Error('No method named "'+t+'"');s[t]()}})}},{key:"VERSION",get:function T(){return e}},{key:"Default",get:function w(){return a}}]),n}();return $(document).on(h.CLICK_DATA_API,c.DATA_TOGGLE,function(t){t.preventDefault();var e=f._getTargetFromElement(this),n=$(e).data(i),s=n?"toggle":$(this).data();f._jQueryInterface.call($(e),s)}),$.fn[t]=f._jQueryInterface,$.fn[t].Constructor=f,$.fn[t].noConflict=function(){return $.fn[t]=o,f._jQueryInterface},f}(jQuery),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Dropdown=function($){var t="dropdown",e="4.0.0-alpha",i="bs.dropdown",n="."+i,s=".data-api",o=$.fn[t],r={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,CLICK:"click"+n,CLICK_DATA_API:"click"+n+s,KEYDOWN_DATA_API:"keydown"+n+s},a={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},l={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},h=function(){function t(e){_classCallCheck(this,t),this._element=e,this._addEventListeners()}return _createClass(t,[{key:"toggle",value:function s(){if(this.disabled||$(this).hasClass(a.DISABLED))return!1;var e=t._getParentFromElement(this),i=$(e).hasClass(a.OPEN);if(t._clearMenus(),i)return!1;if("ontouchstart"in document.documentElement&&!$(e).closest(l.NAVBAR_NAV).length){var n=document.createElement("div");n.className=a.BACKDROP,$(n).insertBefore(this),$(n).on("click",t._clearMenus)}var s={relatedTarget:this},o=$.Event(r.SHOW,s);return $(e).trigger(o),o.isDefaultPrevented()?!1:(this.focus(),this.setAttribute("aria-expanded","true"),$(e).toggleClass(a.OPEN),$(e).trigger($.Event(r.SHOWN,s)),!1)}},{key:"dispose",value:function o(){$.removeData(this._element,i),$(this._element).off(n),this._element=null}},{key:"_addEventListeners",value:function h(){$(this._element).on(r.CLICK,this.toggle)}}],[{key:"_jQueryInterface",value:function u(e){return this.each(function(){var n=$(this).data(i);if(n||$(this).data(i,n=new t(this)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e].call(this)}})}},{key:"_clearMenus",value:function d(e){if(!e||3!==e.which){var i=$(l.BACKDROP)[0];i&&i.parentNode.removeChild(i);for(var n=$.makeArray($(l.DATA_TOGGLE)),s=0;s<n.length;s++){var o=t._getParentFromElement(n[s]),h={relatedTarget:n[s]};if($(o).hasClass(a.OPEN)&&!(e&&"click"===e.type&&/input|textarea/i.test(e.target.tagName)&&$.contains(o,e.target))){var u=$.Event(r.HIDE,h);$(o).trigger(u),u.isDefaultPrevented()||(n[s].setAttribute("aria-expanded","false"),$(o).removeClass(a.OPEN).trigger($.Event(r.HIDDEN,h)))}}}}},{key:"_getParentFromElement",value:function c(t){var e=void 0,i=Util.getSelectorFromElement(t);return i&&(e=$(i)[0]),e||t.parentNode}},{key:"_dataApiKeydownHandler",value:function f(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!$(this).hasClass(a.DISABLED))){var i=t._getParentFromElement(this),n=$(i).hasClass(a.OPEN);if(!n&&27!==e.which||n&&27===e.which){if(27===e.which){var s=$(i).find(l.DATA_TOGGLE)[0];$(s).trigger("focus")}return void $(this).trigger("click")}var o=$.makeArray($(l.VISIBLE_ITEMS));if(o=o.filter(function(t){return t.offsetWidth||t.offsetHeight}),o.length){var r=o.indexOf(e.target);38===e.which&&r>0&&r--,40===e.which&&r<o.length-1&&r++,~r||(r=0),o[r].focus()}}}},{key:"VERSION",get:function p(){return e}}]),t}();return $(document).on(r.KEYDOWN_DATA_API,l.DATA_TOGGLE,h._dataApiKeydownHandler).on(r.KEYDOWN_DATA_API,l.ROLE_MENU,h._dataApiKeydownHandler).on(r.KEYDOWN_DATA_API,l.ROLE_LISTBOX,h._dataApiKeydownHandler).on(r.CLICK_DATA_API,h._clearMenus).on(r.CLICK_DATA_API,l.DATA_TOGGLE,h.prototype.toggle).on(r.CLICK_DATA_API,l.FORM_CHILD,function(t){t.stopPropagation()}),$.fn[t]=h._jQueryInterface,$.fn[t].Constructor=h,$.fn[t].noConflict=function(){return $.fn[t]=o,h._jQueryInterface},h}(jQuery);/*!
 * Shuffle.js by @Vestride
 * Categorize, sort, and filter a responsive grid of items.
 * Dependencies: jQuery 1.9+, Modernizr 2.6.2+
 * @license MIT license
 * @version 3.1.1
 */
window.Modernizr=function(t,e,i){function n(t){g.cssText=t}function s(t,e){return n(y.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var n in t){var s=t[n];if(!r(s,"-")&&g[s]!==i)return"pfx"==e?s:!0}return!1}function l(t,e,n){for(var s in t){var r=e[t[s]];if(r!==i)return n===!1?t[s]:o(r,"function")?r.bind(n||e):r}return!1}function h(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+E.join(n+" ")+n).split(" ");return o(e,"string")||o(e,"undefined")?a(s,e):(s=(t+" "+T.join(n+" ")+n).split(" "),l(s,e,i))}var u="2.6.2",d={},c=!0,f=e.documentElement,p="modernizr",m=e.createElement(p),g=m.style,_,v={}.toString,y=" -webkit- -moz- -o- -ms- ".split(" "),C="Webkit Moz O ms",E=C.split(" "),T=C.toLowerCase().split(" "),w={},A={},b={},I=[],S=I.slice,O,D=function(t,i,n,s){var o,r,a,l,h=e.createElement("div"),u=e.body,d=u||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=s?s[n]:p+(n+1),h.appendChild(a);return o=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),h.id=p,(u?h:d).innerHTML+=o,d.appendChild(h),u||(d.style.background="",d.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),r=i(h,t),u?h.parentNode.removeChild(h):(d.parentNode.removeChild(d),f.style.overflow=l),!!r},N={}.hasOwnProperty,L;L=o(N,"undefined")||o(N.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return N.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=S.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var o=new s,r=e.apply(o,i.concat(S.call(arguments)));return Object(r)===r?r:o}return e.apply(t,i.concat(S.call(arguments)))};return n}),w.csstransforms=function(){return!!h("transform")},w.csstransforms3d=function(){var t=!!h("perspective");return t&&"webkitPerspective"in f.style&&D("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,i){t=9===e.offsetLeft&&3===e.offsetHeight}),t},w.csstransitions=function(){return h("transition")};for(var k in w)L(w,k)&&(O=k.toLowerCase(),d[O]=w[k](),I.push((d[O]?"":"no-")+O));return d.addTest=function(t,e){if("object"==typeof t)for(var n in t)L(t,n)&&d.addTest(n,t[n]);else{if(t=t.toLowerCase(),d[t]!==i)return d;e="function"==typeof e?e():e,"undefined"!=typeof c&&c&&(f.className+=" "+(e?"":"no-")+t),d[t]=e}return d},n(""),m=_=null,d._version=u,d._prefixes=y,d._domPrefixes=T,d._cssomPrefixes=E,d.testProp=function(t){return a([t])},d.testAllProps=h,d.testStyles=D,d.prefixed=function(t,e,i){return e?h(t,e,i):h(t,"pfx")},f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(c?" js "+I.join(" "):""),d}(this,this.document),function(t){"function"==typeof define&&define.amd?define(["jquery","modernizr"],t):"object"==typeof exports?module.exports=t(require("jquery"),window.Modernizr):window.Shuffle=t(window.jQuery,window.Modernizr)}(function($,t,e){function i(t){return t?t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"):""}function n(t,e,i){var n,s,o,r=null,a=0;i=i||{};var l=function(){a=i.leading===!1?0:$.now(),r=null,o=t.apply(n,s),n=s=null};return function(){var h=$.now();a||i.leading!==!1||(a=h);var u=e-(h-a);return n=this,s=arguments,0>=u||u>e?(clearTimeout(r),r=null,a=h,o=t.apply(n,s),n=s=null):r||i.trailing===!1||(r=setTimeout(l,u)),o}}function s(t,e,i){for(var n=0,s=t.length;s>n;n++)if(e.call(i,t[n],n,t)==={})return}function o(t,e,i){return setTimeout($.proxy(t,e),i)}function r(t){return Math.max.apply(Math,t)}function a(t){return Math.min.apply(Math,t)}function l(t){return $.isNumeric(t)?t:0}function h(t){var e,i,n=t.length;if(!n)return t;for(;--n;)i=Math.floor(Math.random()*(n+1)),e=t[i],t[i]=t[n],t[n]=e;return t}if("object"!=typeof t)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var u=t.prefixed("transition"),d=t.prefixed("transitionDelay"),c=t.prefixed("transitionDuration"),f={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[u],p=t.prefixed("transform"),m=i(p),g=t.csstransforms&&t.csstransitions,_=t.csstransforms3d,v=!!window.getComputedStyle,y="shuffle",C="all",E="groups",T=1,w=.001,A=window.getComputedStyle||function(){},b=function(t,e){this.x=l(t),this.y=l(e)};b.equals=function(t,e){return t.x===e.x&&t.y===e.y};var I=function(){if(!v)return!1;var t=document.body||document.documentElement,e=document.createElement("div");e.style.cssText="width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;",t.appendChild(e);var i=A(e,null).width,n="10px"===i;return t.removeChild(e),n}(),S=0,O=$(window),D=function(t,e){e=e||{},$.extend(this,D.options,e,D.settings),this.$el=$(t),this.element=t,this.unique="shuffle_"+S++,this._fire(D.EventType.LOADING),this._init(),o(function(){this.initialized=!0,this._fire(D.EventType.DONE)},this,16)};return D.EventType={LOADING:"loading",DONE:"done",LAYOUT:"layout",REMOVED:"removed"},D.ClassName={BASE:y,SHUFFLE_ITEM:"shuffle-item",FILTERED:"filtered",CONCEALED:"concealed"},D.options={group:C,speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,columnThreshold:v?.01:.1,initialSort:null,throttle:n,throttleTime:300,sequentialFadeDelay:150,supported:g},D.settings={useSizer:!1,itemCss:{position:"absolute",top:0,left:0,visibility:"visible"},revealAppendedDelay:300,lastSort:{},lastFilter:C,enabled:!0,destroyed:!1,initialized:!1,_animations:[],_transitions:[],_isMovementCanceled:!1,styleQueue:[]},D.Point=b,D._getItemTransformString=function(t,e){return _?"translate3d("+t.x+"px, "+t.y+"px, 0) scale3d("+e+", "+e+", 1)":"translate("+t.x+"px, "+t.y+"px) scale("+e+")"},D._getNumberStyle=function(t,e,i){if(v){i=i||A(t,null);var n=D._getFloat(i[e]);return I||"width"!==e?I||"height"!==e||(n+=D._getFloat(i.paddingTop)+D._getFloat(i.paddingBottom)+D._getFloat(i.borderTopWidth)+D._getFloat(i.borderBottomWidth)):n+=D._getFloat(i.paddingLeft)+D._getFloat(i.paddingRight)+D._getFloat(i.borderLeftWidth)+D._getFloat(i.borderRightWidth),n}return D._getFloat($(t).css(e))},D._getFloat=function(t){return l(parseFloat(t))},D._getOuterWidth=function(t,e){var i=A(t,null),n=D._getNumberStyle(t,"width",i);if(e){var s=D._getNumberStyle(t,"marginLeft",i),o=D._getNumberStyle(t,"marginRight",i);n+=s+o}return n},D._getOuterHeight=function(t,e){var i=A(t,null),n=D._getNumberStyle(t,"height",i);if(e){var s=D._getNumberStyle(t,"marginTop",i),o=D._getNumberStyle(t,"marginBottom",i);n+=s+o}return n},D._skipTransition=function(t,e,i){var n=t.style[c];t.style[c]="0ms",e.call(i);var s=t.offsetWidth;s=null,t.style[c]=n},D.prototype._init=function(){this.$items=this._getItems(),this.sizer=this._getElementOption(this.sizer),this.sizer&&(this.useSizer=!0),this.$el.addClass(D.ClassName.BASE),this._initItems(),O.on("resize."+y+"."+this.unique,this._getResizeFunction());var t=this.$el.css(["position","overflow"]),e=D._getOuterWidth(this.element);this._validateStyles(t),this._setColumns(e),this.shuffle(this.group,this.initialSort),this.supported&&o(function(){this._setTransitions(),this.element.style[u]="height "+this.speed+"ms "+this.easing},this)},D.prototype._getResizeFunction=function(){var t=$.proxy(this._onResize,this);return this.throttle?this.throttle(t,this.throttleTime):t},D.prototype._getElementOption=function(t){return"string"==typeof t?this.$el.find(t)[0]||null:t&&t.nodeType&&1===t.nodeType?t:t&&t.jquery?t[0]:null},D.prototype._validateStyles=function(t){"static"===t.position&&(this.element.style.position="relative"),"hidden"!==t.overflow&&(this.element.style.overflow="hidden")},D.prototype._filter=function(t,e){t=t||this.lastFilter,e=e||this.$items;var i=this._getFilteredSets(t,e);return this._toggleFilterClasses(i.filtered,i.concealed),this.lastFilter=t,"string"==typeof t&&(this.group=t),i.filtered},D.prototype._getFilteredSets=function(t,e){var i=$(),n=$();return t===C?i=e:s(e,function(e){var s=$(e);this._doesPassFilter(t,s)?i=i.add(s):n=n.add(s)},this),{filtered:i,concealed:n}},D.prototype._doesPassFilter=function(t,e){if($.isFunction(t))return t.call(e[0],e,this);var i=e.data(E),n=this.delimeter&&!$.isArray(i)?i.split(this.delimeter):i;return $.inArray(t,n)>-1},D.prototype._toggleFilterClasses=function(t,e){t.removeClass(D.ClassName.CONCEALED).addClass(D.ClassName.FILTERED),e.removeClass(D.ClassName.FILTERED).addClass(D.ClassName.CONCEALED)},D.prototype._initItems=function(t){t=t||this.$items,t.addClass([D.ClassName.SHUFFLE_ITEM,D.ClassName.FILTERED].join(" ")),t.css(this.itemCss).data("point",new b).data("scale",T)},D.prototype._updateItemCount=function(){this.visibleItems=this._getFilteredItems().length},D.prototype._setTransition=function(t){t.style[u]=m+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},D.prototype._setTransitions=function(t){t=t||this.$items,s(t,function(t){this._setTransition(t)},this)},D.prototype._setSequentialDelay=function(t){this.supported&&s(t,function(t,e){t.style[d]="0ms,"+(e+1)*this.sequentialFadeDelay+"ms"},this)},D.prototype._getItems=function(){return this.$el.children(this.itemSelector)},D.prototype._getFilteredItems=function(){return this.$items.filter("."+D.ClassName.FILTERED)},D.prototype._getConcealedItems=function(){return this.$items.filter("."+D.ClassName.CONCEALED)},D.prototype._getColumnSize=function(t,e){var i;return i=$.isFunction(this.columnWidth)?this.columnWidth(t):this.useSizer?D._getOuterWidth(this.sizer):this.columnWidth?this.columnWidth:this.$items.length>0?D._getOuterWidth(this.$items[0],!0):t,0===i&&(i=t),i+e},D.prototype._getGutterSize=function(t){var e;return e=$.isFunction(this.gutterWidth)?this.gutterWidth(t):this.useSizer?D._getNumberStyle(this.sizer,"marginLeft"):this.gutterWidth},D.prototype._setColumns=function(t){var e=t||D._getOuterWidth(this.element),i=this._getGutterSize(e),n=this._getColumnSize(e,i),s=(e+i)/n;Math.abs(Math.round(s)-s)<this.columnThreshold&&(s=Math.round(s)),this.cols=Math.max(Math.floor(s),1),this.containerWidth=e,this.colWidth=n},D.prototype._setContainerSize=function(){this.$el.css("height",this._getContainerSize())},D.prototype._getContainerSize=function(){return r(this.positions)},D.prototype._fire=function(t,e){this.$el.trigger(t+"."+y,e&&e.length?e:[this])},D.prototype._resetCols=function(){var t=this.cols;for(this.positions=[];t--;)this.positions.push(0)},D.prototype._layout=function(t,e){s(t,function(t){this._layoutItem(t,!!e)},this),this._processStyleQueue(),this._setContainerSize()},D.prototype._layoutItem=function(t,e){var i=$(t),n=i.data(),s=n.point,o=n.scale,r={width:D._getOuterWidth(t,!0),height:D._getOuterHeight(t,!0)},a=this._getItemPosition(r);b.equals(s,a)&&o===T||(n.point=a,n.scale=T,this.styleQueue.push({$item:i,point:a,scale:T,opacity:e?0:1,skipTransition:e||0===this.speed,callfront:function(){e||i.css("visibility","visible")},callback:function(){e&&i.css("visibility","hidden")}}))},D.prototype._getItemPosition=function(t){for(var e=this._getColumnSpan(t.width,this.colWidth,this.cols),i=this._getColumnSet(e,this.cols),n=this._getShortColumn(i,this.buffer),s=new b(Math.round(this.colWidth*n),Math.round(i[n])),o=i[n]+t.height,r=this.cols+1-i.length,a=0;r>a;a++)this.positions[n+a]=o;return s},D.prototype._getColumnSpan=function(t,e,i){var n=t/e;return Math.abs(Math.round(n)-n)<this.columnThreshold&&(n=Math.round(n)),Math.min(Math.ceil(n),i)},D.prototype._getColumnSet=function(t,e){if(1===t)return this.positions;for(var i=e+1-t,n=[],s=0;i>s;s++)n[s]=r(this.positions.slice(s,s+t));return n},D.prototype._getShortColumn=function(t,e){for(var i=a(t),n=0,s=t.length;s>n;n++)if(t[n]>=i-e&&t[n]<=i+e)return n;return 0},D.prototype._shrink=function(t){var e=t||this._getConcealedItems();s(e,function(t){var e=$(t),i=e.data();i.scale!==w&&(i.scale=w,this.styleQueue.push({$item:e,point:i.point,scale:w,opacity:0,callback:function(){e.css("visibility","hidden")}}))},this)},D.prototype._onResize=function(){if(this.enabled&&!this.destroyed){var t=D._getOuterWidth(this.element);t!==this.containerWidth&&this.update()}},D.prototype._getStylesForTransition=function(t){var e={opacity:t.opacity};return this.supported?e[p]=D._getItemTransformString(t.point,t.scale):(e.left=t.point.x,e.top=t.point.y),e},D.prototype._transition=function(t){var e=this._getStylesForTransition(t);this._startItemAnimation(t.$item,e,t.callfront||$.noop,t.callback||$.noop)},D.prototype._startItemAnimation=function(t,e,i,n){function s(t){t.target===t.currentTarget&&($(t.target).off(f,s),o._removeTransitionReference(r),n())}var o=this,r={$element:t,handler:s};if(i(),!this.initialized)return t.css(e),void n();if(this.supported)t.css(e),t.on(f,s),this._transitions.push(r);else{var a=t.stop(!0).animate(e,this.speed,"swing",n);this._animations.push(a.promise())}},D.prototype._processStyleQueue=function(t){this.isTransitioning&&this._cancelMovement();var e=$();s(this.styleQueue,function(t){t.skipTransition?this._styleImmediately(t):(e=e.add(t.$item),this._transition(t))},this),e.length>0&&this.initialized&&this.speed>0?(this.isTransitioning=!0,this.supported?this._whenCollectionDone(e,f,this._movementFinished):this._whenAnimationsDone(this._movementFinished)):t||o(this._layoutEnd,this),this.styleQueue.length=0},D.prototype._cancelMovement=function(){this.supported?s(this._transitions,function(t){t.$element.off(f,t.handler)}):(this._isMovementCanceled=!0,this.$items.stop(!0),this._isMovementCanceled=!1),this._transitions.length=0,this.isTransitioning=!1},D.prototype._removeTransitionReference=function(t){var e=$.inArray(t,this._transitions);e>-1&&this._transitions.splice(e,1)},D.prototype._styleImmediately=function(t){D._skipTransition(t.$item[0],function(){t.$item.css(this._getStylesForTransition(t))},this)},D.prototype._movementFinished=function(){this.isTransitioning=!1,this._layoutEnd()},D.prototype._layoutEnd=function(){this._fire(D.EventType.LAYOUT)},D.prototype._addItems=function(t,e,i){this._initItems(t),this._setTransitions(t),this.$items=this._getItems(),this._shrink(t),s(this.styleQueue,function(t){t.skipTransition=!0}),this._processStyleQueue(!0),e?this._addItemsToEnd(t,i):this.shuffle(this.lastFilter)},D.prototype._addItemsToEnd=function(t,e){var i=this._filter(null,t),n=i.get();this._updateItemCount(),this._layout(n,!0),e&&this.supported&&this._setSequentialDelay(n),this._revealAppended(n)},D.prototype._revealAppended=function(t){o(function(){s(t,function(t){var e=$(t);this._transition({$item:e,opacity:1,point:e.data("point"),scale:T})},this),this._whenCollectionDone($(t),f,function(){$(t).css(d,"0ms"),this._movementFinished()})},this,this.revealAppendedDelay)},D.prototype._whenCollectionDone=function(t,e,i){function n(t){t.target===t.currentTarget&&($(t.target).off(e,n),s++,s===o&&(r._removeTransitionReference(a),i.call(r)))}var s=0,o=t.length,r=this,a={$element:t,handler:n};t.on(e,n),this._transitions.push(a)},D.prototype._whenAnimationsDone=function(t){$.when.apply(null,this._animations).always($.proxy(function(){this._animations.length=0,this._isMovementCanceled||t.call(this)},this))},D.prototype.shuffle=function(t,e){this.enabled&&(t||(t=C),this._filter(t),this._updateItemCount(),this._shrink(),this.sort(e))},D.prototype.sort=function(t){if(this.enabled){this._resetCols();var e=t||this.lastSort,i=this._getFilteredItems().sorted(e);this._layout(i),this.lastSort=e}},D.prototype.update=function(t){this.enabled&&(t||this._setColumns(),this.sort())},D.prototype.layout=function(){this.update(!0)},D.prototype.appended=function(t,e,i){this._addItems(t,e===!0,i!==!1)},D.prototype.disable=function(){this.enabled=!1},D.prototype.enable=function(t){this.enabled=!0,t!==!1&&this.update()},D.prototype.remove=function(t){function e(){t.remove(),this.$items=this._getItems(),this._updateItemCount(),this._fire(D.EventType.REMOVED,[t,this]),t=null}t.length&&t.jquery&&(this._toggleFilterClasses($(),t),this._shrink(t),this.sort(),this.$el.one(D.EventType.LAYOUT+"."+y,$.proxy(e,this)))},D.prototype.destroy=function(){O.off("."+this.unique),this.$el.removeClass(y).removeAttr("style").removeData(y),this.$items.removeAttr("style").removeData("point").removeData("scale").removeClass([D.ClassName.CONCEALED,D.ClassName.FILTERED,D.ClassName.SHUFFLE_ITEM].join(" ")),this.$items=null,this.$el=null,this.sizer=null,this.element=null,this._transitions=null,this.destroyed=!0},$.fn.shuffle=function(t){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=$(this),n=i.data(y);n?"string"==typeof t&&n[t]&&n[t].apply(n,e):(n=new D(this,t),i.data(y,n))})},$.fn.sorted=function(t){var i=$.extend({},$.fn.sorted.defaults,t),n=this.get(),s=!1;return n.length?i.randomize?h(n):($.isFunction(i.by)&&n.sort(function(t,n){if(s)return 0;var o=i.by($(t)),r=i.by($(n));return o===e&&r===e?(s=!0,0):r>o||"sortFirst"===o||"sortLast"===r?-1:o>r||"sortLast"===o||"sortFirst"===r?1:0}),s?this.get():(i.reverse&&n.reverse(),n)):[]},$.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},D}),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():t.Headhesive=e()}(this,function(){var t=function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]="object"==typeof i[n]?t(e[n],i[n]):i[n]);return e},e=function(t,e){var i,n,s,o=Date.now||function(){return(new Date).getTime()},r=null,a=0,l=function(){a=o(),r=null,s=t.apply(i,n),i=n=null};return function(){var h=o(),u=e-(h-a);return i=this,n=arguments,0>=u?(clearTimeout(r),r=null,a=h,s=t.apply(i,n),i=n=null):r||(r=setTimeout(l,u)),s}},i=function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},n=function(t,e){for(var i=0,n=t.offsetHeight;t;)i+=t.offsetTop,t=t.offsetParent;return"bottom"===e&&(i+=n),i},s=function(e,i){"querySelector"in document&&"addEventListener"in window&&(this.visible=!1,this.options={offset:300,offsetSide:"top",classes:{clone:"headhesive",stick:"headhesive--stick",unstick:"headhesive--unstick"},throttle:250,onInit:function(){},onStick:function(){},onUnstick:function(){},onDestroy:function(){}},this.elem="string"==typeof e?document.querySelector(e):e,this.options=t(this.options,i),this.init())};return s.prototype={constructor:s,init:function(){if(this.clonedElem=this.elem.cloneNode(!0),this.clonedElem.className+=" "+this.options.classes.clone,document.body.insertBefore(this.clonedElem,document.body.firstChild),"number"==typeof this.options.offset)this.scrollOffset=this.options.offset;else{if("string"!=typeof this.options.offset)throw new Error("Invalid offset: "+this.options.offset);this._setScrollOffset()}this._throttleUpdate=e(this.update.bind(this),this.options.throttle),this._throttleScrollOffset=e(this._setScrollOffset.bind(this),this.options.throttle),window.addEventListener("scroll",this._throttleUpdate,!1),window.addEventListener("resize",this._throttleScrollOffset,!1),this.options.onInit.call(this)},_setScrollOffset:function(){"string"==typeof this.options.offset&&(this.scrollOffset=n(document.querySelector(this.options.offset),this.options.offsetSide))},destroy:function(){document.body.removeChild(this.clonedElem),window.removeEventListener("scroll",this._throttleUpdate),window.removeEventListener("resize",this._throttleScrollOffset),this.options.onDestroy.call(this)},stick:function(){this.visible||(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.unstick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.stick,this.visible=!0,this.options.onStick.call(this))},unstick:function(){this.visible&&(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.stick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.unstick,this.visible=!1,this.options.onUnstick.call(this))},update:function(){i()>this.scrollOffset?this.stick():this.unstick()}},s});